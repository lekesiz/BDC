<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BDC - Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .animate-fadeIn {
      animation: fadeIn 0.5s ease-out forwards;
    }
    @keyframes fadeInLeft {
      from { opacity: 0; transform: translateX(-20px); }
      to { opacity: 1; transform: translateX(0); }
    }
    .animate-fadeInLeft {
      animation: fadeInLeft 0.5s ease-out forwards;
    }
    @keyframes fadeInRight {
      from { opacity: 0; transform: translateX(20px); }
      to { opacity: 1; transform: translateX(0); }
    }
    .animate-fadeInRight {
      animation: fadeInRight 0.5s ease-out forwards;
    }
    .animate-spin {
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    .stagger-item {
      opacity: 0;
      animation: fadeIn 0.5s ease-out forwards;
    }
    .stagger-item:nth-child(1) { animation-delay: 0.1s; }
    .stagger-item:nth-child(2) { animation-delay: 0.2s; }
    .stagger-item:nth-child(3) { animation-delay: 0.3s; }
    .stagger-item:nth-child(4) { animation-delay: 0.4s; }
    .stagger-item:nth-child(5) { animation-delay: 0.5s; }
    .stagger-item:nth-child(6) { animation-delay: 0.6s; }
    .stagger-item:nth-child(7) { animation-delay: 0.7s; }
    .stagger-item:nth-child(8) { animation-delay: 0.8s; }
  </style>
</head>
<body class="bg-gray-100 min-h-screen flex">
  <!-- Sidebar -->
  <div class="fixed inset-y-0 left-0 bg-gray-800 text-white w-64 space-y-6 py-7 px-2 transform -translate-x-full md:relative md:translate-x-0 transition duration-200 ease-in-out z-30" id="sidebar">
    <div class="flex items-center justify-center px-4">
      <div class="flex items-center">
        <span class="text-2xl font-extrabold">BDC</span>
        <span class="ml-2 text-gray-300">Platform</span>
      </div>
    </div>
    
    <nav class="mt-10 px-4">
      <a class="block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-700 bg-gray-900 menu-item" href="javascript:void(0);" data-section="dashboard">
        <div class="flex items-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 20 20" fill="currentColor">
            <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" />
          </svg>
          <span>Dashboard</span>
        </div>
      </a>
      <a class="block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-700 mt-1 menu-item" href="javascript:void(0);" data-section="beneficiaries">
        <div class="flex items-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 20 20" fill="currentColor">
            <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z" />
          </svg>
          <span>Beneficiaries</span>
        </div>
      </a>
      <a class="block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-700 mt-1 menu-item" href="javascript:void(0);" data-section="evaluations">
        <div class="flex items-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 20 20" fill="currentColor">
            <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z" />
            <path fill-rule="evenodd" d="M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z" clip-rule="evenodd" />
          </svg>
          <span>Evaluations</span>
        </div>
      </a>
      <a class="block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-700 mt-1 menu-item" href="javascript:void(0);" data-section="documents">
        <div class="flex items-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z" clip-rule="evenodd" />
          </svg>
          <span>Documents</span>
        </div>
      </a>
      <a class="block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-700 mt-1 menu-item" href="javascript:void(0);" data-section="calendar">
        <div class="flex items-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
          </svg>
          <span>Calendar</span>
        </div>
      </a>
      <a class="block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-700 mt-1 menu-item" href="javascript:void(0);" data-section="reports">
        <div class="flex items-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
          </svg>
          <span>Reports</span>
        </div>
      </a>
      <div class="mt-10 pt-10 border-t border-gray-700">
        <a class="block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-700 mt-1 menu-item" href="javascript:void(0);" data-section="settings">
          <div class="flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd" />
            </svg>
            <span>Settings</span>
          </div>
        </a>
        <a class="block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-700 mt-1 cursor-pointer" id="logout-btn">
          <div class="flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z" clip-rule="evenodd" />
            </svg>
            <span>Logout</span>
          </div>
        </a>
      </div>
    </nav>
  </div>

  <!-- Mobile menu button -->
  <div class="fixed top-0 left-0 z-40 md:hidden">
    <button id="menu-toggle" class="px-4 py-3 text-gray-600 focus:outline-none focus:bg-gray-100 bg-white shadow-sm rounded-br">
      <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
  </div>

  <!-- Main content -->
  <div class="md:pl-64 min-h-screen p-4 flex-1">
    <!-- Top navbar -->
    <header class="bg-white shadow-sm rounded-lg p-4 mb-6 flex justify-between items-center animate-fadeInRight">
      <h1 class="text-2xl font-bold text-gray-900">Dashboard</h1>
      <div class="flex items-center space-x-4">
        <div>
          <button id="refresh-btn" class="p-2 rounded-full border border-gray-200 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd" />
            </svg>
          </button>
        </div>
        <div>
          <button class="p-2 rounded-full border border-gray-200 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500" viewBox="0 0 20 20" fill="currentColor">
              <path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z" />
            </svg>
          </button>
        </div>
        <div class="relative">
          <div id="user-menu-button" class="flex items-center cursor-pointer">
            <div class="h-8 w-8 rounded-full bg-indigo-600 flex items-center justify-center text-white font-medium">
              AD
            </div>
            <span class="ml-2 text-sm font-medium text-gray-700 hidden md:inline-block" id="user-name">Admin User</span>
          </div>
          <div id="user-dropdown" class="origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 py-1 focus:outline-none hidden">
            <a href="#profile" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Your Profile</a>
            <a href="#settings" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Settings</a>
            <a href="#" id="user-dropdown-logout" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Sign out</a>
          </div>
        </div>
      </div>
    </header>

    <!-- Dashboard content -->
    <div id="dashboard-content">
      <!-- Stats cards -->
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
        <div class="bg-white rounded-lg shadow-sm p-6 stagger-item">
          <div class="flex items-center">
            <div class="flex-shrink-0 bg-indigo-100 rounded-md p-3">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600" viewBox="0 0 20 20" fill="currentColor">
                <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z" />
              </svg>
            </div>
            <div class="ml-5">
              <h2 class="text-sm font-medium text-gray-500">Total Beneficiaries</h2>
              <p class="text-2xl font-semibold text-gray-900" id="beneficiary-count">3</p>
              <p class="text-sm text-green-600 flex items-center mt-1">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z" clip-rule="evenodd" />
                </svg>
                8% increase
              </p>
            </div>
          </div>
        </div>
        <div class="bg-white rounded-lg shadow-sm p-6 stagger-item">
          <div class="flex items-center">
            <div class="flex-shrink-0 bg-green-100 rounded-md p-3">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-600" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm2 10a1 1 0 10-2 0v3a1 1 0 102 0v-3zm2-3a1 1 0 011 1v5a1 1 0 11-2 0v-5a1 1 0 011-1zm4-1a1 1 0 10-2 0v7a1 1 0 102 0V8z" clip-rule="evenodd" />
              </svg>
            </div>
            <div class="ml-5">
              <h2 class="text-sm font-medium text-gray-500">Active Evaluations</h2>
              <p class="text-2xl font-semibold text-gray-900" id="evaluations-count">2</p>
              <p class="text-sm text-green-600 flex items-center mt-1">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z" clip-rule="evenodd" />
                </svg>
                12% increase
              </p>
            </div>
          </div>
        </div>
        <div class="bg-white rounded-lg shadow-sm p-6 stagger-item">
          <div class="flex items-center">
            <div class="flex-shrink-0 bg-blue-100 rounded-md p-3">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-600" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z" clip-rule="evenodd" />
              </svg>
            </div>
            <div class="ml-5">
              <h2 class="text-sm font-medium text-gray-500">Documents Generated</h2>
              <p class="text-2xl font-semibold text-gray-900" id="documents-count">12</p>
              <p class="text-sm text-green-600 flex items-center mt-1">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z" clip-rule="evenodd" />
                </svg>
                4% increase
              </p>
            </div>
          </div>
        </div>
        <div class="bg-white rounded-lg shadow-sm p-6 stagger-item">
          <div class="flex items-center">
            <div class="flex-shrink-0 bg-yellow-100 rounded-md p-3">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-yellow-600" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
              </svg>
            </div>
            <div class="ml-5">
              <h2 class="text-sm font-medium text-gray-500">Upcoming Appointments</h2>
              <p class="text-2xl font-semibold text-gray-900" id="appointments-count">5</p>
              <p class="text-sm text-green-600 flex items-center mt-1">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z" clip-rule="evenodd" />
                </svg>
                16% increase
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Main content grid -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
        <!-- Recent Evaluations Section -->
        <div class="bg-white shadow-sm rounded-lg overflow-hidden animate-fadeIn" style="animation-delay: 0.2s;">
          <div class="px-6 py-5 border-b border-gray-200 flex justify-between items-center">
            <div class="flex items-center">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-indigo-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
              </svg>
              <h3 class="text-lg font-medium text-gray-900">Recent Evaluations</h3>
              <span id="evaluation-count-badge" class="ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800">
                0
              </span>
            </div>
            <div class="flex items-center space-x-2">
              <select id="evaluation-filter" class="text-sm border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                <option value="all">All</option>
                <option value="completed">Completed</option>
                <option value="pending">Pending</option>
                <option value="assigned">Assigned</option>
              </select>
              <a href="#evaluations" class="text-sm font-medium text-indigo-600 hover:text-indigo-500 flex items-center">
                View all
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                </svg>
              </a>
            </div>
          </div>
          <div id="evaluations-list" class="divide-y divide-gray-200">
            <div id="evaluations-loading" class="py-12 flex justify-center items-center">
              <svg class="animate-spin h-6 w-6 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
              </svg>
              <span class="ml-2 text-sm text-gray-500">Loading evaluations...</span>
            </div>
            <div id="evaluations-empty" class="py-12 text-center hidden">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mx-auto text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
              </svg>
              <p class="mt-2 text-sm text-gray-500">No evaluations found</p>
              <button id="create-evaluation-btn" class="mt-4 inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                </svg>
                Create Evaluation
              </button>
            </div>
            <!-- Example Evaluation Items - Will be replaced by JavaScript -->
            <div class="px-6 py-4 hover:bg-gray-50 transition-colors cursor-pointer group">
              <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                  <div class="flex-shrink-0">
                    <div class="h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                      </svg>
                    </div>
                  </div>
                  <div>
                    <p class="text-sm font-medium text-gray-900 truncate">
                      Initial Assessment
                    </p>
                    <p class="text-xs text-gray-500">John Doe</p>
                  </div>
                </div>
                <div class="flex items-center space-x-2">
                  <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                    completed
                  </span>
                  <div class="opacity-0 group-hover:opacity-100 transition-opacity">
                    <button class="p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z" />
                      </svg>
                    </button>
                  </div>
                </div>
              </div>
              <div class="mt-2 sm:flex sm:justify-between">
                <div class="sm:flex">
                  <p class="flex items-center text-sm text-gray-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor">
                      <path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z" />
                    </svg>
                    <span class="font-medium">85%</span>
                    <span class="ml-1 text-green-600">(+12%)</span>
                  </p>
                </div>
                <div class="mt-2 flex items-center text-sm text-gray-500 sm:mt-0">
                  <svg xmlns="http://www.w3.org/2000/svg" class="flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
                  </svg>
                  <p>
                    Jan 15, 2025
                  </p>
                </div>
              </div>
              <div class="mt-2 pt-2 border-t border-gray-100 flex justify-between items-center">
                <div class="flex space-x-2">
                  <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800">
                    Skills
                  </span>
                  <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800">
                    Communication
                  </span>
                </div>
                <button class="text-xs text-indigo-600 hover:text-indigo-500 font-medium">
                  View Details
                </button>
              </div>
            </div>
            
            <div class="px-6 py-4 hover:bg-gray-50 transition-colors cursor-pointer group">
              <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                  <div class="flex-shrink-0">
                    <div class="h-10 w-10 rounded-full bg-yellow-100 flex items-center justify-center text-yellow-600">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                      </svg>
                    </div>
                  </div>
                  <div>
                    <p class="text-sm font-medium text-gray-900 truncate">
                      Mid-term Evaluation
                    </p>
                    <p class="text-xs text-gray-500">Jane Smith</p>
                  </div>
                </div>
                <div class="flex items-center space-x-2">
                  <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                    pending
                  </span>
                  <div class="opacity-0 group-hover:opacity-100 transition-opacity">
                    <button class="p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z" />
                      </svg>
                    </button>
                  </div>
                </div>
              </div>
              <div class="mt-2 sm:flex sm:justify-between">
                <div class="sm:flex">
                  <p class="flex items-center text-sm text-gray-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd" />
                    </svg>
                    Continue test
                  </p>
                </div>
                <div class="mt-2 flex items-center text-sm text-gray-500 sm:mt-0">
                  <svg xmlns="http://www.w3.org/2000/svg" class="flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
                  </svg>
                  <p>
                    Jun 15, 2025
                  </p>
                </div>
              </div>
              <div class="mt-2 pt-2 border-t border-gray-100 flex justify-between items-center">
                <div class="flex space-x-2">
                  <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800">
                    Progress
                  </span>
                  <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800">
                    Mid-term
                  </span>
                </div>
                <button class="text-xs text-indigo-600 hover:text-indigo-500 font-medium">
                  Continue
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Upcoming Appointments Section -->
        <div class="bg-white shadow-sm rounded-lg overflow-hidden animate-fadeIn" style="animation-delay: 0.3s;">
          <div class="px-6 py-5 border-b border-gray-200 flex justify-between items-center">
            <div class="flex items-center">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-indigo-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
              </svg>
              <h3 class="text-lg font-medium text-gray-900">Upcoming Appointments</h3>
              <span id="appointment-count-badge" class="ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800">
                0
              </span>
            </div>
            <div class="flex items-center space-x-2">
              <select id="appointment-view" class="text-sm border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                <option value="upcoming">Upcoming</option>
                <option value="today">Today</option>
                <option value="week">This Week</option>
                <option value="month">This Month</option>
              </select>
              <a href="#calendar" class="text-sm font-medium text-indigo-600 hover:text-indigo-500 flex items-center">
                View calendar
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                </svg>
              </a>
            </div>
          </div>
          <div id="appointments-list" class="divide-y divide-gray-200">
            <div id="appointments-loading" class="py-12 flex justify-center items-center">
              <svg class="animate-spin h-6 w-6 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
              </svg>
              <span class="ml-2 text-sm text-gray-500">Loading appointments...</span>
            </div>
            <div id="appointments-empty" class="py-12 text-center hidden">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mx-auto text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
              </svg>
              <p class="mt-2 text-sm text-gray-500">No appointments found</p>
              <button id="create-appointment-btn" class="mt-4 inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                </svg>
                Schedule Appointment
              </button>
            </div>
            
            <!-- Example Appointment Items - Will be replaced by JavaScript -->
            <div class="px-6 py-4 hover:bg-gray-50 transition-colors cursor-pointer group">
              <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                  <div class="flex-shrink-0">
                    <div class="h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                      </svg>
                    </div>
                  </div>
                  <div>
                    <p class="text-sm font-medium text-gray-900 truncate">
                      Progress Review Meeting
                    </p>
                    <p class="text-xs text-gray-500">John Doe</p>
                  </div>
                </div>
                <div class="flex items-center space-x-2">
                  <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                    Upcoming
                  </span>
                  <div class="opacity-0 group-hover:opacity-100 transition-opacity">
                    <div class="flex space-x-1">
                      <button class="p-1 rounded-full text-gray-400 hover:text-indigo-500 focus:outline-none" title="Edit">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" />
                        </svg>
                      </button>
                      <button class="p-1 rounded-full text-gray-400 hover:text-red-500 focus:outline-none" title="Cancel">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                        </svg>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="mt-2 sm:flex sm:justify-between">
                <div class="sm:flex">
                  <p class="flex items-center text-sm text-gray-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor">
                      <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
                    </svg>
                    May 25, 2025
                  </p>
                  <p class="mt-2 flex items-center text-sm text-gray-500 sm:mt-0 sm:ml-6">
                    <svg xmlns="http://www.w3.org/2000/svg" class="flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd" />
                    </svg>
                    10:00 AM
                  </p>
                </div>
                <div class="mt-2 flex items-center text-sm text-gray-500 sm:mt-0">
                  <svg xmlns="http://www.w3.org/2000/svg" class="flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" />
                  </svg>
                  <span>Online (Zoom)</span>
                </div>
              </div>
              <div class="mt-2 pt-2 border-t border-gray-100 flex justify-between items-center">
                <div class="flex space-x-2">
                  <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800">
                    Review
                  </span>
                  <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-pink-100 text-pink-800">
                    1:1 Meeting
                  </span>
                </div>
                <div class="flex space-x-2">
                  <button class="text-xs text-indigo-600 hover:text-indigo-500 font-medium">
                    View Details
                  </button>
                </div>
              </div>
            </div>
            
            <div class="px-6 py-4 hover:bg-gray-50 transition-colors cursor-pointer group">
              <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                  <div class="flex-shrink-0">
                    <div class="h-10 w-10 rounded-full bg-green-100 flex items-center justify-center text-green-600">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                      </svg>
                    </div>
                  </div>
                  <div>
                    <p class="text-sm font-medium text-gray-900 truncate">
                      Career Assessment Session
                    </p>
                    <p class="text-xs text-gray-500">Jane Smith</p>
                  </div>
                </div>
                <div class="flex items-center space-x-2">
                  <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                    Today
                  </span>
                  <div class="opacity-0 group-hover:opacity-100 transition-opacity">
                    <div class="flex space-x-1">
                      <button class="p-1 rounded-full text-gray-400 hover:text-indigo-500 focus:outline-none" title="Edit">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" />
                        </svg>
                      </button>
                      <button class="p-1 rounded-full text-gray-400 hover:text-red-500 focus:outline-none" title="Cancel">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                        </svg>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="mt-2 sm:flex sm:justify-between">
                <div class="sm:flex">
                  <p class="flex items-center text-sm text-gray-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor">
                      <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
                    </svg>
                    May 27, 2025
                  </p>
                  <p class="mt-2 flex items-center text-sm text-gray-500 sm:mt-0 sm:ml-6">
                    <svg xmlns="http://www.w3.org/2000/svg" class="flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd" />
                    </svg>
                    2:00 PM
                  </p>
                </div>
                <div class="mt-2 flex items-center text-sm text-gray-500 sm:mt-0">
                  <svg xmlns="http://www.w3.org/2000/svg" class="flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" />
                  </svg>
                  <span>BDC Office - Room 203</span>
                </div>
              </div>
              <div class="mt-2 pt-2 border-t border-gray-100 flex justify-between items-center">
                <div class="flex space-x-2">
                  <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-teal-100 text-teal-800">
                    Assessment
                  </span>
                  <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800">
                    Career
                  </span>
                </div>
                <div class="flex space-x-2">
                  <button class="text-xs text-indigo-600 hover:text-indigo-500 font-medium">
                    View Details
                  </button>
                </div>
              </div>
            </div>
            
            <div class="px-6 py-4 hover:bg-gray-50 transition-colors cursor-pointer group">
              <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                  <div class="flex-shrink-0">
                    <div class="h-10 w-10 rounded-full bg-orange-100 flex items-center justify-center text-orange-600">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
                      </svg>
                    </div>
                  </div>
                  <div>
                    <p class="text-sm font-medium text-gray-900 truncate">
                      Monthly Status Review
                    </p>
                    <p class="text-xs text-gray-500">Alice Johnson</p>
                  </div>
                </div>
                <div class="flex items-center space-x-2">
                  <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                    In 5 days
                  </span>
                  <div class="opacity-0 group-hover:opacity-100 transition-opacity">
                    <div class="flex space-x-1">
                      <button class="p-1 rounded-full text-gray-400 hover:text-indigo-500 focus:outline-none" title="Edit">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" />
                        </svg>
                      </button>
                      <button class="p-1 rounded-full text-gray-400 hover:text-red-500 focus:outline-none" title="Cancel">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                        </svg>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="mt-2 sm:flex sm:justify-between">
                <div class="sm:flex">
                  <p class="flex items-center text-sm text-gray-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor">
                      <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
                    </svg>
                    Jun 1, 2025
                  </p>
                  <p class="mt-2 flex items-center text-sm text-gray-500 sm:mt-0 sm:ml-6">
                    <svg xmlns="http://www.w3.org/2000/svg" class="flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd" />
                    </svg>
                    11:00 AM
                  </p>
                </div>
                <div class="mt-2 flex items-center text-sm text-gray-500 sm:mt-0">
                  <svg xmlns="http://www.w3.org/2000/svg" class="flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" />
                  </svg>
                  <span>Online (Google Meet)</span>
                </div>
              </div>
              <div class="mt-2 pt-2 border-t border-gray-100 flex justify-between items-center">
                <div class="flex space-x-2">
                  <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800">
                    Monthly
                  </span>
                  <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-indigo-100 text-indigo-800">
                    Status
                  </span>
                </div>
                <div class="flex space-x-2">
                  <button class="text-xs text-indigo-600 hover:text-indigo-500 font-medium">
                    View Details
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Quick Actions -->
      <div class="bg-white shadow-sm rounded-lg overflow-hidden animate-fadeIn" style="animation-delay: 0.4s;">
        <div class="px-6 py-5 border-b border-gray-200">
          <h3 class="text-lg font-medium text-gray-900">Quick Actions</h3>
        </div>
        <div class="p-6">
          <div class="grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4">
            <button id="create-test-btn" class="flex flex-col items-start text-left p-4 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors stagger-item">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600 mb-2" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm5 6a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V8z" clip-rule="evenodd" />
              </svg>
              <span class="font-medium">Create Test</span>
              <span class="text-sm text-gray-600 line-clamp-2">Design a new evaluation or assessment</span>
            </button>
            <button id="schedule-appointment-btn" class="flex flex-col items-start text-left p-4 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors stagger-item">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600 mb-2" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
              </svg>
              <span class="font-medium">Schedule Appointment</span>
              <span class="text-sm text-gray-600 line-clamp-2">Book a session with a beneficiary</span>
            </button>
            <button id="add-beneficiary-btn" class="flex flex-col items-start text-left p-4 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors stagger-item">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600 mb-2" viewBox="0 0 20 20" fill="currentColor">
                <path d="M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z" />
              </svg>
              <span class="font-medium">Add Beneficiary</span>
              <span class="text-sm text-gray-600 line-clamp-2">Register a new beneficiary</span>
            </button>
            <button id="generate-report-btn" class="flex flex-col items-start text-left p-4 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors stagger-item">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600 mb-2" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm2 10a1 1 0 10-2 0v3a1 1 0 102 0v-3zm2-3a1 1 0 011 1v5a1 1 0 11-2 0v-5a1 1 0 011-1zm4-1a1 1 0 10-2 0v7a1 1 0 102 0V8z" clip-rule="evenodd" />
              </svg>
              <span class="font-medium">Generate Report</span>
              <span class="text-sm text-gray-600 line-clamp-2">Create progress reports</span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Loading overlay -->
  <div id="loading-overlay" class="fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50 hidden">
    <div class="bg-white p-5 rounded-lg shadow-lg flex items-center">
      <svg class="animate-spin -ml-1 mr-3 h-6 w-6 text-indigo-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
      </svg>
      <span class="text-gray-700 font-medium">Loading data...</span>
    </div>
  </div>

  <!-- Notification -->
  <div id="notification" class="fixed right-4 top-4 max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden z-50 transform transition ease-out duration-300 translate-y-2 opacity-0">
    <div class="p-4">
      <div class="flex items-start">
        <div class="flex-shrink-0">
          <svg id="success-icon" class="h-6 w-6 text-green-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          <svg id="error-icon" class="h-6 w-6 text-red-400 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
        </div>
        <div class="ml-3 w-0 flex-1 pt-0.5">
          <p id="notification-title" class="text-sm font-medium text-gray-900">
            Success!
          </p>
          <p id="notification-message" class="mt-1 text-sm text-gray-500">
            Data refreshed successfully.
          </p>
        </div>
        <div class="ml-4 flex-shrink-0 flex">
          <button id="close-notification" class="bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
            <span class="sr-only">Close</span>
            <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
              <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Modal backdrop -->
  <div id="modal-backdrop" class="fixed inset-0 bg-gray-900 bg-opacity-50 z-40 hidden"></div>
  
  <!-- Create Test Modal -->
  <div id="create-test-modal" class="fixed inset-0 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-lg shadow-xl max-w-md w-full p-6">
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-lg font-medium text-gray-900">Create New Evaluation</h3>
        <button class="modal-close text-gray-400 hover:text-gray-500">
          <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      <form id="create-test-form">
        <div class="space-y-4">
          <div>
            <label for="test-title" class="block text-sm font-medium text-gray-700">Title</label>
            <input type="text" id="test-title" name="title" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" required>
          </div>
          <div>
            <label for="test-description" class="block text-sm font-medium text-gray-700">Description</label>
            <textarea id="test-description" name="description" rows="3" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"></textarea>
          </div>
          <div>
            <label for="test-beneficiary" class="block text-sm font-medium text-gray-700">Beneficiary</label>
            <select id="test-beneficiary" name="beneficiary_id" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" required>
              <option value="">Select a beneficiary</option>
              <!-- Options will be populated from API -->
            </select>
          </div>
          <div>
            <label for="test-date" class="block text-sm font-medium text-gray-700">Date</label>
            <input type="date" id="test-date" name="date" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" required>
          </div>
        </div>
        <div class="mt-6 flex justify-end space-x-3">
          <button type="button" class="modal-close py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
            Cancel
          </button>
          <button type="submit" class="py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
            Create
          </button>
        </div>
      </form>
    </div>
  </div>
  
  <!-- Schedule Appointment Modal -->
  <div id="schedule-appointment-modal" class="fixed inset-0 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-lg shadow-xl max-w-md w-full p-6">
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-lg font-medium text-gray-900">Schedule Appointment</h3>
        <button class="modal-close text-gray-400 hover:text-gray-500">
          <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      <form id="schedule-appointment-form">
        <div class="space-y-4">
          <div>
            <label for="appointment-title" class="block text-sm font-medium text-gray-700">Title</label>
            <input type="text" id="appointment-title" name="title" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" required>
          </div>
          <div>
            <label for="appointment-beneficiary" class="block text-sm font-medium text-gray-700">Beneficiary</label>
            <select id="appointment-beneficiary" name="beneficiary_id" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" required>
              <option value="">Select a beneficiary</option>
              <!-- Options will be populated from API -->
            </select>
          </div>
          <div>
            <label for="appointment-date" class="block text-sm font-medium text-gray-700">Date</label>
            <input type="date" id="appointment-date" name="date" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" required>
          </div>
          <div>
            <label for="appointment-time" class="block text-sm font-medium text-gray-700">Time</label>
            <input type="time" id="appointment-time" name="time" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" required>
          </div>
          <div>
            <label for="appointment-notes" class="block text-sm font-medium text-gray-700">Notes</label>
            <textarea id="appointment-notes" name="notes" rows="3" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"></textarea>
          </div>
        </div>
        <div class="mt-6 flex justify-end space-x-3">
          <button type="button" class="modal-close py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
            Cancel
          </button>
          <button type="submit" class="py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
            Schedule
          </button>
        </div>
      </form>
    </div>
  </div>
  
  <!-- Add Beneficiary Modal -->
  <div id="add-beneficiary-modal" class="fixed inset-0 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-lg shadow-xl max-w-md w-full p-6">
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-lg font-medium text-gray-900">Add New Beneficiary</h3>
        <button class="modal-close text-gray-400 hover:text-gray-500">
          <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      <form id="add-beneficiary-form">
        <div class="space-y-4">
          <div>
            <label for="beneficiary-first-name" class="block text-sm font-medium text-gray-700">First Name</label>
            <input type="text" id="beneficiary-first-name" name="first_name" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" required>
          </div>
          <div>
            <label for="beneficiary-last-name" class="block text-sm font-medium text-gray-700">Last Name</label>
            <input type="text" id="beneficiary-last-name" name="last_name" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" required>
          </div>
          <div>
            <label for="beneficiary-email" class="block text-sm font-medium text-gray-700">Email</label>
            <input type="email" id="beneficiary-email" name="email" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" required>
          </div>
          <div>
            <label for="beneficiary-phone" class="block text-sm font-medium text-gray-700">Phone</label>
            <input type="tel" id="beneficiary-phone" name="phone" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
          </div>
          <div>
            <label for="beneficiary-status" class="block text-sm font-medium text-gray-700">Status</label>
            <select id="beneficiary-status" name="status" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" required>
              <option value="active">Active</option>
              <option value="inactive">Inactive</option>
              <option value="pending">Pending</option>
            </select>
          </div>
        </div>
        <div class="mt-6 flex justify-end space-x-3">
          <button type="button" class="modal-close py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
            Cancel
          </button>
          <button type="submit" class="py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
            Add Beneficiary
          </button>
        </div>
      </form>
    </div>
  </div>
  
  <!-- Generate Report Modal -->
  <div id="generate-report-modal" class="fixed inset-0 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-lg shadow-xl max-w-md w-full p-6">
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-lg font-medium text-gray-900">Generate Report</h3>
        <button class="modal-close text-gray-400 hover:text-gray-500">
          <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      <form id="generate-report-form">
        <div class="space-y-4">
          <div>
            <label for="report-title" class="block text-sm font-medium text-gray-700">Report Title</label>
            <input type="text" id="report-title" name="title" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" required>
          </div>
          <div>
            <label for="report-type" class="block text-sm font-medium text-gray-700">Report Type</label>
            <select id="report-type" name="type" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" required>
              <option value="progress">Progress Report</option>
              <option value="evaluation">Evaluation Summary</option>
              <option value="attendance">Attendance Report</option>
              <option value="analytics">Analytics Report</option>
            </select>
          </div>
          <div>
            <label for="report-beneficiary" class="block text-sm font-medium text-gray-700">Beneficiary</label>
            <select id="report-beneficiary" name="beneficiary_id" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
              <option value="">All Beneficiaries</option>
              <!-- Options will be populated from API -->
            </select>
          </div>
          <div>
            <label for="report-date-range" class="block text-sm font-medium text-gray-700">Date Range</label>
            <div class="flex space-x-2">
              <input type="date" id="report-start-date" name="start_date" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" required>
              <input type="date" id="report-end-date" name="end_date" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" required>
            </div>
          </div>
          <div>
            <label for="report-format" class="block text-sm font-medium text-gray-700">Format</label>
            <select id="report-format" name="format" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" required>
              <option value="pdf">PDF</option>
              <option value="excel">Excel</option>
              <option value="csv">CSV</option>
            </select>
          </div>
        </div>
        <div class="mt-6 flex justify-end space-x-3">
          <button type="button" class="modal-close py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
            Cancel
          </button>
          <button type="submit" class="py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
            Generate
          </button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // Configuration
    const API_URL = window.location.hostname === 'localhost' ? 'http://localhost:9888' : 'http://test-api:8888';
    
    // DOM Elements
    const sidebar = document.getElementById('sidebar');
    const menuToggle = document.getElementById('menu-toggle');
    const userMenuButton = document.getElementById('user-menu-button');
    const userDropdown = document.getElementById('user-dropdown');
    const logoutBtn = document.getElementById('logout-btn');
    const userDropdownLogout = document.getElementById('user-dropdown-logout');
    const refreshBtn = document.getElementById('refresh-btn');
    const loadingOverlay = document.getElementById('loading-overlay');
    const notification = document.getElementById('notification');
    const notificationTitle = document.getElementById('notification-title');
    const notificationMessage = document.getElementById('notification-message');
    const successIcon = document.getElementById('success-icon');
    const errorIcon = document.getElementById('error-icon');
    const closeNotificationBtn = document.getElementById('close-notification');
    const userName = document.getElementById('user-name');
    
    // State
    let authToken = localStorage.getItem('authToken');
    let currentUser = JSON.parse(localStorage.getItem('currentUser'));
    
    // Check authentication
    function checkAuth() {
      if (!authToken || !currentUser) {
        window.location.href = 'enhanced-login.html';
      } else {
        // Update UI with user info
        userName.textContent = `${currentUser.first_name} ${currentUser.last_name}`;
        
        // Load dashboard data
        loadDashboardData();
      }
    }
    
    // Load dashboard data
    async function loadDashboardData() {
      showLoading();
      
      try {
        // Get beneficiaries count
        const beneficiariesResponse = await fetch(`${API_URL}/api/beneficiaries`, {
          headers: {
            'Authorization': `Bearer ${authToken}`
          }
        });
        
        if (!beneficiariesResponse.ok) {
          throw new Error('Failed to load beneficiaries');
        }
        
        const beneficiariesData = await beneficiariesResponse.json();
        document.getElementById('beneficiary-count').textContent = beneficiariesData.beneficiaries ? beneficiariesData.beneficiaries.length : 0;
        
        // Get evaluations
        const evaluationsResponse = await fetch(`${API_URL}/api/evaluations`, {
          headers: {
            'Authorization': `Bearer ${authToken}`
          }
        });
        
        if (!evaluationsResponse.ok) {
          throw new Error('Failed to load evaluations');
        }
        
        const evaluationsData = await evaluationsResponse.json();
        document.getElementById('evaluations-count').textContent = evaluationsData.evaluations ? evaluationsData.evaluations.length : 0;
        
        // Store evaluations data for filter functionality
        localStorage.setItem('evaluationsData', JSON.stringify(evaluationsData.evaluations || []));
        
        // Update evaluations list
        updateEvaluationsList(evaluationsData.evaluations);
        
        // Get documents
        const documentsResponse = await fetch(`${API_URL}/api/documents`, {
          headers: {
            'Authorization': `Bearer ${authToken}`
          }
        });
        
        if (!documentsResponse.ok) {
          throw new Error('Failed to load documents');
        }
        
        const documentsData = await documentsResponse.json();
        document.getElementById('documents-count').textContent = documentsData.documents ? documentsData.documents.length : 0;
        
        // Get appointments
        const appointmentsResponse = await fetch(`${API_URL}/api/appointments`, {
          headers: {
            'Authorization': `Bearer ${authToken}`
          }
        });
        
        if (!appointmentsResponse.ok) {
          throw new Error('Failed to load appointments');
        }
        
        const appointmentsData = await appointmentsResponse.json();
        document.getElementById('appointments-count').textContent = appointmentsData.appointments ? appointmentsData.appointments.length : 0;
        
        // Store appointments data for filter functionality
        localStorage.setItem('appointmentsData', JSON.stringify(appointmentsData.appointments || []));
        
        // Update appointments list
        updateAppointmentsList(appointmentsData.appointments);
        
        // Success notification
        showNotification('Data loaded successfully', 'Dashboard data has been refreshed.', true);
      } catch (error) {
        console.error('Error loading dashboard data:', error);
        showNotification('Error loading data', error.message, false);
      } finally {
        hideLoading();
      }
    }
    
    // Update evaluations list
    function updateEvaluationsList(evaluations) {
      const evaluationsList = document.getElementById('evaluations-list');
      const evaluationsLoading = document.getElementById('evaluations-loading');
      const evaluationsEmpty = document.getElementById('evaluations-empty');
      const evaluationCountBadge = document.getElementById('evaluation-count-badge');
      const evaluationFilter = document.getElementById('evaluation-filter');
      
      // Hide loading indicator
      evaluationsLoading.classList.add('hidden');
      
      if (!evaluations || evaluations.length === 0) {
        // Show empty state
        evaluationsEmpty.classList.remove('hidden');
        evaluationCountBadge.textContent = '0';
        return;
      }
      
      // Update count badge
      evaluationCountBadge.textContent = evaluations.length;
      
      // Filter evaluations based on selected filter
      const filterValue = evaluationFilter.value;
      let filteredEvaluations = [...evaluations];
      
      if (filterValue !== 'all') {
        filteredEvaluations = evaluations.filter(evaluation => evaluation.status === filterValue);
      }
      
      // Sort by date (newest first)
      const sortedEvaluations = filteredEvaluations.sort((a, b) => new Date(b.date) - new Date(a.date));
      
      // Take the most recent 3 evaluations
      const recentEvaluations = sortedEvaluations.slice(0, 3);
      
      // Show or hide empty state based on filtered results
      if (recentEvaluations.length === 0) {
        evaluationsEmpty.classList.remove('hidden');
      } else {
        evaluationsEmpty.classList.add('hidden');
        
        // Clear existing items except loading and empty state elements
        Array.from(evaluationsList.children).forEach(child => {
          if (child.id !== 'evaluations-loading' && child.id !== 'evaluations-empty') {
            child.remove();
          }
        });
        
        // Add evaluation items
        recentEvaluations.forEach(evaluation => {
          const statusClass = evaluation.status === 'completed' 
            ? 'bg-green-100 text-green-800'
            : evaluation.status === 'pending'
              ? 'bg-yellow-100 text-yellow-800'
              : evaluation.status === 'assigned'
                ? 'bg-blue-100 text-blue-800'
                : 'bg-gray-100 text-gray-800';
          
          const statusIcon = evaluation.status === 'completed' 
            ? '<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>'
            : evaluation.status === 'pending'
              ? '<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>'
              : '<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /></svg>';
          
          const iconBgClass = evaluation.status === 'completed' 
            ? 'bg-green-100 text-green-600'
            : evaluation.status === 'pending'
              ? 'bg-yellow-100 text-yellow-600'
              : 'bg-indigo-100 text-indigo-600';
          
          // Generate random tags based on evaluation title
          const tags = [];
          if (evaluation.title.toLowerCase().includes('skills')) {
            tags.push('Skills');
          }
          if (evaluation.title.toLowerCase().includes('communication')) {
            tags.push('Communication');
          }
          if (evaluation.title.toLowerCase().includes('progress')) {
            tags.push('Progress');
          }
          if (evaluation.title.toLowerCase().includes('assessment')) {
            tags.push('Assessment');
          }
          if (evaluation.title.toLowerCase().includes('mid')) {
            tags.push('Mid-term');
          }
          if (evaluation.title.toLowerCase().includes('final')) {
            tags.push('Final');
          }
          
          // If no tags were added, add a default tag
          if (tags.length === 0) {
            tags.push('Evaluation');
          }
          
          // Random performance change for visual interest
          const performanceChange = evaluation.status === 'completed' 
            ? `<span class="ml-1 text-green-600">(+${Math.floor(Math.random() * 15) + 5}%)</span>` 
            : '';
          
          const evaluationItem = document.createElement('div');
          evaluationItem.className = 'px-6 py-4 hover:bg-gray-50 transition-colors cursor-pointer group';
          evaluationItem.innerHTML = `
            <div class="flex items-center justify-between">
              <div class="flex items-center space-x-3">
                <div class="flex-shrink-0">
                  <div class="h-10 w-10 rounded-full ${iconBgClass} flex items-center justify-center">
                    ${statusIcon}
                  </div>
                </div>
                <div>
                  <p class="text-sm font-medium text-gray-900 truncate">
                    ${evaluation.title}
                  </p>
                  <p class="text-xs text-gray-500">${evaluation.beneficiary_name || 'Beneficiary'}</p>
                </div>
              </div>
              <div class="flex items-center space-x-2">
                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${statusClass}">
                  ${evaluation.status}
                </span>
                <div class="opacity-0 group-hover:opacity-100 transition-opacity">
                  <button class="p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none" 
                          data-evaluation-id="${evaluation.id}" 
                          onclick="showEvaluationMenu(event, ${evaluation.id})">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z" />
                    </svg>
                  </button>
                </div>
              </div>
            </div>
            <div class="mt-2 sm:flex sm:justify-between">
              <div class="sm:flex">
                <p class="flex items-center text-sm text-gray-500">
                  <svg xmlns="http://www.w3.org/2000/svg" class="flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z" />
                  </svg>
                  ${evaluation.status === 'completed' 
                    ? `<span class="font-medium">${evaluation.score || '85'}%</span>${performanceChange}`
                    : evaluation.status === 'pending'
                      ? 'Continue test'
                      : 'Not started'}
                </p>
              </div>
              <div class="mt-2 flex items-center text-sm text-gray-500 sm:mt-0">
                <svg xmlns="http://www.w3.org/2000/svg" class="flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
                </svg>
                <p>
                  ${new Date(evaluation.date).toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' })}
                </p>
              </div>
            </div>
            <div class="mt-2 pt-2 border-t border-gray-100 flex justify-between items-center">
              <div class="flex space-x-2">
                ${tags.map(tag => `
                  <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800">
                    ${tag}
                  </span>
                `).join('')}
              </div>
              <button class="text-xs text-indigo-600 hover:text-indigo-500 font-medium" 
                      onclick="viewEvaluationDetails(${evaluation.id})">
                ${evaluation.status === 'pending' ? 'Continue' : 'View Details'}
              </button>
            </div>
          `;
          
          evaluationsList.appendChild(evaluationItem);
        });
      }
    }
    
    // Handle showing evaluation action menu
    function showEvaluationMenu(event, evaluationId) {
      event.stopPropagation();
      // This would show a dropdown menu with options like Edit, Delete, etc.
      showNotification('Action Menu', `Actions for evaluation #${evaluationId}`, true);
    }
    
    // Handle viewing evaluation details
    function viewEvaluationDetails(evaluationId) {
      // This would navigate to the evaluation details page
      showNotification('Viewing Evaluation', `Navigating to evaluation #${evaluationId}`, true);
    }
    
    // Update appointments list
    function updateAppointmentsList(appointments) {
      const appointmentsList = document.getElementById('appointments-list');
      const appointmentsLoading = document.getElementById('appointments-loading');
      const appointmentsEmpty = document.getElementById('appointments-empty');
      const appointmentCountBadge = document.getElementById('appointment-count-badge');
      const appointmentView = document.getElementById('appointment-view');
      
      // Hide loading indicator
      appointmentsLoading.classList.add('hidden');
      
      if (!appointments || appointments.length === 0) {
        // Show empty state
        appointmentsEmpty.classList.remove('hidden');
        appointmentCountBadge.textContent = '0';
        return;
      }
      
      // Update count badge
      appointmentCountBadge.textContent = appointments.length;
      
      // Sort by date (soonest first)
      const sortedAppointments = [...appointments].sort((a, b) => new Date(a.date) - new Date(b.date));
      
      // Filter appointments based on view selection
      const today = new Date();
      today.setHours(0, 0, 0, 0);
      
      const viewOption = appointmentView.value;
      let filteredAppointments = [];
      
      switch (viewOption) {
        case 'today':
          // Only appointments for today
          filteredAppointments = sortedAppointments.filter(appointment => {
            const appointmentDate = new Date(appointment.date);
            appointmentDate.setHours(0, 0, 0, 0);
            return appointmentDate.getTime() === today.getTime();
          });
          break;
          
        case 'week':
          // Appointments in the next 7 days
          const weekFromNow = new Date(today);
          weekFromNow.setDate(today.getDate() + 7);
          
          filteredAppointments = sortedAppointments.filter(appointment => {
            const appointmentDate = new Date(appointment.date);
            return appointmentDate >= today && appointmentDate <= weekFromNow;
          });
          break;
          
        case 'month':
          // Appointments in the next 30 days
          const monthFromNow = new Date(today);
          monthFromNow.setDate(today.getDate() + 30);
          
          filteredAppointments = sortedAppointments.filter(appointment => {
            const appointmentDate = new Date(appointment.date);
            return appointmentDate >= today && appointmentDate <= monthFromNow;
          });
          break;
          
        case 'upcoming':
        default:
          // All future appointments
          filteredAppointments = sortedAppointments.filter(
            appointment => new Date(appointment.date) >= today
          );
          break;
      }
      
      // Limit to 3 items
      const limitedAppointments = filteredAppointments.slice(0, 3);
      
      // Show or hide empty state based on filtered results
      if (limitedAppointments.length === 0) {
        appointmentsEmpty.classList.remove('hidden');
      } else {
        appointmentsEmpty.classList.add('hidden');
        
        // Clear existing items except loading and empty state elements
        Array.from(appointmentsList.children).forEach(child => {
          if (child.id !== 'appointments-loading' && child.id !== 'appointments-empty') {
            child.remove();
          }
        });
        
        // Add appointment items
        limitedAppointments.forEach(appointment => {
          // Determine status label and color
          let statusLabel = 'Upcoming';
          let statusClass = 'bg-blue-100 text-blue-800';
          let iconBgClass = 'bg-indigo-100 text-indigo-600';
          
          const appointmentDate = new Date(appointment.date);
          const todayDate = new Date();
          todayDate.setHours(0, 0, 0, 0);
          
          const appointmentDay = new Date(appointmentDate);
          appointmentDay.setHours(0, 0, 0, 0);
          
          if (appointmentDay.getTime() === todayDate.getTime()) {
            statusLabel = 'Today';
            statusClass = 'bg-green-100 text-green-800';
            iconBgClass = 'bg-green-100 text-green-600';
          } else {
            const daysUntil = Math.ceil((appointmentDate - todayDate) / (1000 * 60 * 60 * 24));
            
            if (daysUntil <= 2) {
              statusLabel = `In ${daysUntil} ${daysUntil === 1 ? 'day' : 'days'}`;
              statusClass = 'bg-yellow-100 text-yellow-800';
              iconBgClass = 'bg-yellow-100 text-yellow-600';
            } else if (daysUntil <= 7) {
              statusLabel = `In ${daysUntil} days`;
              statusClass = 'bg-blue-100 text-blue-800';
              iconBgClass = 'bg-blue-100 text-blue-600';
            } else {
              statusLabel = new Date(appointment.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
              statusClass = 'bg-gray-100 text-gray-800';
              iconBgClass = 'bg-indigo-100 text-indigo-600';
            }
          }
          
          // Generate tags based on appointment title
          const tags = [];
          if (appointment.title) {
            const title = appointment.title.toLowerCase();
            if (title.includes('review')) tags.push({ text: 'Review', class: 'bg-purple-100 text-purple-800' });
            if (title.includes('meeting') || title.includes('1:1')) tags.push({ text: '1:1 Meeting', class: 'bg-pink-100 text-pink-800' });
            if (title.includes('assessment')) tags.push({ text: 'Assessment', class: 'bg-teal-100 text-teal-800' });
            if (title.includes('career')) tags.push({ text: 'Career', class: 'bg-yellow-100 text-yellow-800' });
            if (title.includes('status')) tags.push({ text: 'Status', class: 'bg-indigo-100 text-indigo-800' });
            if (title.includes('monthly')) tags.push({ text: 'Monthly', class: 'bg-gray-100 text-gray-800' });
          }
          
          // If no tags were added, add a default tag
          if (tags.length === 0) {
            tags.push({ text: 'Appointment', class: 'bg-gray-100 text-gray-800' });
          }
          
          // Determine location icon and text
          let locationIcon = `<svg xmlns="http://www.w3.org/2000/svg" class="flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" />
          </svg>`;
          
          let locationText = 'BDC Office';
          
          if (appointment.location) {
            if (appointment.location.toLowerCase().includes('zoom')) {
              locationText = 'Online (Zoom)';
            } else if (appointment.location.toLowerCase().includes('meet') || appointment.location.toLowerCase().includes('google')) {
              locationText = 'Online (Google Meet)';
            } else if (appointment.location.toLowerCase().includes('teams')) {
              locationText = 'Online (MS Teams)';
            } else {
              locationText = appointment.location;
            }
          }
          
          // Create the appointment item
          const appointmentItem = document.createElement('div');
          appointmentItem.className = 'px-6 py-4 hover:bg-gray-50 transition-colors cursor-pointer group';
          appointmentItem.innerHTML = `
            <div class="flex items-center justify-between">
              <div class="flex items-center space-x-3">
                <div class="flex-shrink-0">
                  <div class="h-10 w-10 rounded-full ${iconBgClass} flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                    </svg>
                  </div>
                </div>
                <div>
                  <p class="text-sm font-medium text-gray-900 truncate">
                    ${appointment.title || 'Meeting'}
                  </p>
                  <p class="text-xs text-gray-500">${appointment.beneficiary_name || 'Beneficiary'}</p>
                </div>
              </div>
              <div class="flex items-center space-x-2">
                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${statusClass}">
                  ${statusLabel}
                </span>
                <div class="opacity-0 group-hover:opacity-100 transition-opacity">
                  <div class="flex space-x-1">
                    <button class="p-1 rounded-full text-gray-400 hover:text-indigo-500 focus:outline-none" 
                            title="Edit" 
                            onclick="editAppointment(event, ${appointment.id})">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" />
                      </svg>
                    </button>
                    <button class="p-1 rounded-full text-gray-400 hover:text-red-500 focus:outline-none" 
                            title="Cancel" 
                            onclick="cancelAppointment(event, ${appointment.id})">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                      </svg>
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="mt-2 sm:flex sm:justify-between">
              <div class="sm:flex">
                <p class="flex items-center text-sm text-gray-500">
                  <svg xmlns="http://www.w3.org/2000/svg" class="flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
                  </svg>
                  ${new Date(appointment.date).toLocaleDateString('en-US', { 
                    year: 'numeric', 
                    month: 'short', 
                    day: 'numeric' 
                  })}
                </p>
                <p class="mt-2 flex items-center text-sm text-gray-500 sm:mt-0 sm:ml-6">
                  <svg xmlns="http://www.w3.org/2000/svg" class="flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd" />
                  </svg>
                  ${appointment.time || '9:00 AM'}
                </p>
              </div>
              <div class="mt-2 flex items-center text-sm text-gray-500 sm:mt-0">
                ${locationIcon}
                <span>${locationText}</span>
              </div>
            </div>
            <div class="mt-2 pt-2 border-t border-gray-100 flex justify-between items-center">
              <div class="flex space-x-2">
                ${tags.map(tag => `
                  <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${tag.class}">
                    ${tag.text}
                  </span>
                `).join('')}
              </div>
              <div class="flex space-x-2">
                <button class="text-xs text-indigo-600 hover:text-indigo-500 font-medium" 
                        onclick="viewAppointmentDetails(event, ${appointment.id})">
                  View Details
                </button>
              </div>
            </div>
          `;
          
          appointmentsList.appendChild(appointmentItem);
        });
      }
    }
    
    // Handle appointments actions
    function editAppointment(event, appointmentId) {
      event.stopPropagation();
      showNotification('Edit Appointment', `Editing appointment #${appointmentId}`, true);
      loadBeneficiaryOptions();
      openModal('schedule-appointment-modal');
    }
    
    function cancelAppointment(event, appointmentId) {
      event.stopPropagation();
      showNotification('Cancel Appointment', `Cancelling appointment #${appointmentId}`, true);
      // In a real app, you would send a request to the API to cancel the appointment
    }
    
    function viewAppointmentDetails(event, appointmentId) {
      event.stopPropagation();
      showNotification('View Appointment', `Viewing appointment #${appointmentId}`, true);
      // In a real app, you would navigate to the appointment details page
    }
    
    // Toggle sidebar
    function toggleSidebar() {
      sidebar.classList.toggle('-translate-x-full');
      
      // For responsive behavior, adjust main content
      const mainContent = document.querySelector('.md\\:pl-64');
      if (window.innerWidth < 768) { // Only apply to mobile
        if (sidebar.classList.contains('-translate-x-full')) {
          sidebar.style.width = '0px';
        } else {
          sidebar.style.width = '16rem'; // 64 in rem
        }
      }
    }
    
    // Toggle user dropdown
    function toggleUserDropdown() {
      userDropdown.classList.toggle('hidden');
    }
    
    // Show loading overlay
    function showLoading() {
      loadingOverlay.classList.remove('hidden');
    }
    
    // Hide loading overlay
    function hideLoading() {
      loadingOverlay.classList.add('hidden');
    }
    
    // Show notification
    function showNotification(title, message, isSuccess = true) {
      notificationTitle.textContent = title;
      notificationMessage.textContent = message;
      
      if (isSuccess) {
        successIcon.classList.remove('hidden');
        errorIcon.classList.add('hidden');
      } else {
        successIcon.classList.add('hidden');
        errorIcon.classList.remove('hidden');
      }
      
      notification.classList.remove('translate-y-2', 'opacity-0');
      notification.classList.add('translate-y-0', 'opacity-100');
      
      // Auto hide after 3 seconds
      setTimeout(() => {
        hideNotification();
      }, 3000);
    }
    
    // Hide notification
    function hideNotification() {
      notification.classList.add('translate-y-2', 'opacity-0');
      notification.classList.remove('translate-y-0', 'opacity-100');
    }
    
    // Handle logout
    function handleLogout() {
      localStorage.removeItem('authToken');
      localStorage.removeItem('currentUser');
      window.location.href = 'enhanced-login.html';
    }
    
    // Modal functions
    function openModal(modalId) {
      document.getElementById('modal-backdrop').classList.remove('hidden');
      document.getElementById(modalId).classList.remove('hidden');
    }
    
    function closeModal(modalId) {
      document.getElementById('modal-backdrop').classList.add('hidden');
      document.getElementById(modalId).classList.add('hidden');
    }
    
    function closeAllModals() {
      document.getElementById('modal-backdrop').classList.add('hidden');
      document.getElementById('create-test-modal').classList.add('hidden');
      document.getElementById('schedule-appointment-modal').classList.add('hidden');
      document.getElementById('add-beneficiary-modal').classList.add('hidden');
      document.getElementById('generate-report-modal').classList.add('hidden');
    }
    
    // Load beneficiary options in select fields
    async function loadBeneficiaryOptions() {
      try {
        const response = await fetch(`${API_URL}/api/beneficiaries`, {
          headers: {
            'Authorization': `Bearer ${authToken}`
          }
        });
        
        if (!response.ok) {
          throw new Error('Failed to load beneficiaries');
        }
        
        const data = await response.json();
        const beneficiaries = data.beneficiaries || [];
        
        // Populate all beneficiary select fields
        const selects = [
          document.getElementById('test-beneficiary'),
          document.getElementById('appointment-beneficiary'),
          document.getElementById('report-beneficiary')
        ];
        
        selects.forEach(select => {
          if (!select) return;
          
          // Clear existing options except the first one
          while (select.options.length > 1) {
            select.remove(1);
          }
          
          // Add beneficiary options
          beneficiaries.forEach(beneficiary => {
            const option = document.createElement('option');
            option.value = beneficiary.id;
            option.textContent = `${beneficiary.first_name} ${beneficiary.last_name}`;
            select.appendChild(option);
          });
        });
      } catch (error) {
        console.error('Error loading beneficiaries:', error);
        showNotification('Error', 'Failed to load beneficiaries', false);
      }
    }
    
    // Create Test form submission
    document.getElementById('create-test-form').addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const formData = new FormData(e.target);
      const testData = {
        title: formData.get('title'),
        description: formData.get('description'),
        beneficiary_id: parseInt(formData.get('beneficiary_id')),
        date: formData.get('date'),
        status: 'pending'
      };
      
      try {
        showLoading();
        
        const response = await fetch(`${API_URL}/api/evaluations`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${authToken}`
          },
          body: JSON.stringify(testData)
        });
        
        if (!response.ok) {
          throw new Error('Failed to create evaluation');
        }
        
        closeAllModals();
        showNotification('Success', 'Evaluation created successfully', true);
        loadDashboardData();
      } catch (error) {
        console.error('Error creating evaluation:', error);
        showNotification('Error', error.message, false);
      } finally {
        hideLoading();
      }
    });
    
    // Schedule Appointment form submission
    document.getElementById('schedule-appointment-form').addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const formData = new FormData(e.target);
      const appointmentData = {
        title: formData.get('title'),
        beneficiary_id: parseInt(formData.get('beneficiary_id')),
        date: formData.get('date'),
        time: formData.get('time'),
        notes: formData.get('notes')
      };
      
      try {
        showLoading();
        
        const response = await fetch(`${API_URL}/api/appointments`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${authToken}`
          },
          body: JSON.stringify(appointmentData)
        });
        
        if (!response.ok) {
          throw new Error('Failed to schedule appointment');
        }
        
        closeAllModals();
        showNotification('Success', 'Appointment scheduled successfully', true);
        loadDashboardData();
      } catch (error) {
        console.error('Error scheduling appointment:', error);
        showNotification('Error', error.message, false);
      } finally {
        hideLoading();
      }
    });
    
    // Add Beneficiary form submission
    document.getElementById('add-beneficiary-form').addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const formData = new FormData(e.target);
      const beneficiaryData = {
        first_name: formData.get('first_name'),
        last_name: formData.get('last_name'),
        email: formData.get('email'),
        phone: formData.get('phone'),
        status: formData.get('status'),
        trainer_id: currentUser.id
      };
      
      try {
        showLoading();
        
        const response = await fetch(`${API_URL}/api/beneficiaries`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${authToken}`
          },
          body: JSON.stringify(beneficiaryData)
        });
        
        if (!response.ok) {
          throw new Error('Failed to add beneficiary');
        }
        
        closeAllModals();
        showNotification('Success', 'Beneficiary added successfully', true);
        loadDashboardData();
        loadBeneficiaryOptions();
      } catch (error) {
        console.error('Error adding beneficiary:', error);
        showNotification('Error', error.message, false);
      } finally {
        hideLoading();
      }
    });
    
    // Generate Report form submission
    document.getElementById('generate-report-form').addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const formData = new FormData(e.target);
      const reportData = {
        title: formData.get('title'),
        type: formData.get('type'),
        beneficiary_id: formData.get('beneficiary_id') ? parseInt(formData.get('beneficiary_id')) : null,
        start_date: formData.get('start_date'),
        end_date: formData.get('end_date'),
        format: formData.get('format')
      };
      
      try {
        showLoading();
        
        const response = await fetch(`${API_URL}/api/reports`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${authToken}`
          },
          body: JSON.stringify(reportData)
        });
        
        if (!response.ok) {
          throw new Error('Failed to generate report');
        }
        
        closeAllModals();
        showNotification('Success', 'Report generated successfully', true);
        loadDashboardData();
      } catch (error) {
        console.error('Error generating report:', error);
        showNotification('Error', error.message, false);
      } finally {
        hideLoading();
      }
    });
    
    // Quick action buttons
    document.getElementById('create-test-btn').addEventListener('click', () => {
      loadBeneficiaryOptions();
      openModal('create-test-modal');
    });
    
    document.getElementById('schedule-appointment-btn').addEventListener('click', () => {
      loadBeneficiaryOptions();
      openModal('schedule-appointment-modal');
    });
    
    document.getElementById('add-beneficiary-btn').addEventListener('click', () => {
      openModal('add-beneficiary-modal');
    });
    
    document.getElementById('generate-report-btn').addEventListener('click', () => {
      loadBeneficiaryOptions();
      openModal('generate-report-modal');
    });
    
    // Close modal buttons
    document.querySelectorAll('.modal-close').forEach(button => {
      button.addEventListener('click', () => {
        closeAllModals();
      });
    });
    
    // Close modals when clicking the backdrop
    document.getElementById('modal-backdrop').addEventListener('click', () => {
      closeAllModals();
    });
    
    // Set default date values
    document.addEventListener('DOMContentLoaded', () => {
      const today = new Date().toISOString().split('T')[0];
      document.getElementById('test-date').value = today;
      document.getElementById('appointment-date').value = today;
      
      const startDate = new Date();
      startDate.setMonth(startDate.getMonth() - 1);
      document.getElementById('report-start-date').value = startDate.toISOString().split('T')[0];
      document.getElementById('report-end-date').value = today;
    });
    
    // Event listeners
    menuToggle.addEventListener('click', toggleSidebar);
    userMenuButton.addEventListener('click', toggleUserDropdown);
    logoutBtn.addEventListener('click', handleLogout);
    userDropdownLogout.addEventListener('click', handleLogout);
    closeNotificationBtn.addEventListener('click', hideNotification);
    refreshBtn.addEventListener('click', loadDashboardData);
    document.getElementById('evaluation-filter').addEventListener('change', (e) => {
      const evaluationsData = JSON.parse(localStorage.getItem('evaluationsData') || '[]');
      updateEvaluationsList(evaluationsData);
    });
    document.getElementById('create-evaluation-btn').addEventListener('click', () => {
      loadBeneficiaryOptions();
      openModal('create-test-modal');
    });
    document.getElementById('appointment-view').addEventListener('change', (e) => {
      const appointmentsData = JSON.parse(localStorage.getItem('appointmentsData') || '[]');
      updateAppointmentsList(appointmentsData);
    });
    document.getElementById('create-appointment-btn').addEventListener('click', () => {
      loadBeneficiaryOptions();
      openModal('schedule-appointment-modal');
    });
    
    // Close dropdown when clicking outside
    document.addEventListener('click', (event) => {
      if (!userMenuButton.contains(event.target) && !userDropdown.contains(event.target)) {
        userDropdown.classList.add('hidden');
      }
    });
    
    // Handle menu item clicks
    document.querySelectorAll('.menu-item').forEach(item => {
      item.addEventListener('click', (e) => {
        e.preventDefault();
        
        // Remove active class from all menu items
        document.querySelectorAll('.menu-item').forEach(menuItem => {
          menuItem.classList.remove('bg-gray-900');
          menuItem.classList.add('hover:bg-gray-700');
        });
        
        // Add active class to clicked item
        item.classList.add('bg-gray-900');
        
        // Update header title
        const sectionName = item.dataset.section;
        document.querySelector('header h1').textContent = sectionName.charAt(0).toUpperCase() + sectionName.slice(1);
        
        // If on mobile, close the sidebar
        if (window.innerWidth < 768) {
          toggleSidebar();
        }
        
        // You can handle different section content here if needed
        switch(sectionName) {
          case 'dashboard':
            // Already on dashboard
            break;
          case 'beneficiaries':
            showNotification('Loading Beneficiaries', 'Beneficiaries section would be loaded here', true);
            break;  
          case 'evaluations':
            showNotification('Loading Evaluations', 'Evaluations section would be loaded here', true);
            break;
          case 'documents':
            showNotification('Loading Documents', 'Documents section would be loaded here', true);
            break;
          case 'calendar':
            showNotification('Loading Calendar', 'Calendar section would be loaded here', true);
            break;
          case 'reports':
            showNotification('Loading Reports', 'Reports section would be loaded here', true);
            break;
          case 'settings':
            showNotification('Loading Settings', 'Settings section would be loaded here', true);
            break;
        }
      });
    });
    
    // Initialize
    document.addEventListener('DOMContentLoaded', checkAuth);
  </script>
</body>
</html>