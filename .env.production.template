# BDC Production Environment Template
# Copy this file to .env.production and fill in your actual values

# ===============================
# GENERAL CONFIGURATION
# ===============================
COMPOSE_PROJECT_NAME=bdc-production
DOCKER_BUILDKIT=1
BUILDX_NO_DEFAULT_ATTESTATIONS=1

# ===============================
# DATABASE CONFIGURATION
# ===============================
DATABASE_NAME=bdc_production
DATABASE_USER=bdc_user
DATABASE_PASSWORD=your-very-secure-db-password-here
DATABASE_HOST=postgres
DATABASE_PORT=5432
DATABASE_URL=postgresql://${DATABASE_USER}:${DATABASE_PASSWORD}@${DATABASE_HOST}:${DATABASE_PORT}/${DATABASE_NAME}

# PostgreSQL specific
POSTGRES_DB=${DATABASE_NAME}
POSTGRES_USER=${DATABASE_USER}
POSTGRES_PASSWORD=${DATABASE_PASSWORD}
POSTGRES_PORT=5432

# ===============================
# REDIS CONFIGURATION
# ===============================
REDIS_PASSWORD=your-secure-redis-password-here
REDIS_URL=redis://:${REDIS_PASSWORD}@redis:6379/0
REDIS_PORT=6379

# ===============================
# FLASK/BACKEND CONFIGURATION
# ===============================
FLASK_ENV=production
SECRET_KEY=your-super-secret-flask-key-change-this-32-chars-minimum
JWT_SECRET_KEY=your-jwt-secret-key-change-this-as-well-32-chars-min
LOG_LEVEL=INFO
TRUSTED_HOSTS=yourdomain.com,www.yourdomain.com,localhost,127.0.0.1

# Backend ports
BACKEND_PORT=5000

# ===============================
# FRONTEND CONFIGURATION
# ===============================
VITE_API_URL=https://yourdomain.com/api
VITE_WS_URL=wss://yourdomain.com/ws
VITE_APP_NAME=BDC Production
VITE_ENVIRONMENT=production

# Frontend ports
FRONTEND_HTTP_PORT=80
FRONTEND_HTTPS_PORT=443

# ===============================
# NGINX/LOAD BALANCER
# ===============================
LB_HTTP_PORT=8080
LB_HTTPS_PORT=8443

# ===============================
# SSL/SECURITY CONFIGURATION
# ===============================
# Set to your actual domain
SSL_DOMAIN=yourdomain.com
SSL_EMAIL=admin@yourdomain.com

# CORS origins (comma-separated)
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# ===============================
# EMAIL CONFIGURATION
# ===============================
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=true
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-specific-password
MAIL_DEFAULT_SENDER=noreply@yourdomain.com

# ===============================
# EXTERNAL SERVICES
# ===============================
# OpenAI
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_ORGANIZATION=your-openai-org-id-here

# AWS (if using S3 for file storage)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_DEFAULT_REGION=us-east-1
S3_BUCKET=your-bdc-bucket-name

# ===============================
# MONITORING & OBSERVABILITY
# ===============================
# Sentry (Error tracking)
SENTRY_DSN=https://your-sentry-dsn-here@sentry.io/project-id

# New Relic (Performance monitoring)
NEW_RELIC_LICENSE_KEY=your-new-relic-license-key

# ===============================
# ALERT SYSTEM CONFIGURATION
# ===============================
# Slack Integration
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
SLACK_BOT_TOKEN=xoxb-your-slack-bot-token

# Email Configuration (for alerts)
ADMIN_EMAILS=admin@yourcompany.com,alerts@yourcompany.com

# Webhook Endpoints
ALERT_WEBHOOK_URL=https://your-webhook-endpoint.com/alerts
BACKUP_WEBHOOK_URL=https://your-backup-webhook.com/alerts
ALERT_API_KEY=your-webhook-api-key

# Microsoft Teams Integration
TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/YOUR-TEAMS-WEBHOOK

# Discord Integration
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR/DISCORD/WEBHOOK

# Alert Rate Limiting
ALERT_RATE_LIMIT_ENABLED=true

# Performance Thresholds
PERFORMANCE_WARNING_THRESHOLD=5.0
PERFORMANCE_CRITICAL_THRESHOLD=10.0

# ===============================
# DISTRIBUTED TRACING CONFIGURATION
# ===============================
# Enable/disable tracing
TRACING_ENABLED=true
TRACING_SAMPLE_RATE=1.0

# Jaeger Configuration
JAEGER_UI_PORT=16686
JAEGER_OTLP_GRPC_PORT=4317
JAEGER_OTLP_HTTP_PORT=4318
JAEGER_MEMORY_LIMIT=512M
JAEGER_CPU_LIMIT=0.5
JAEGER_STORAGE_TYPE=memory
JAEGER_MEMORY_MAX_TRACES=50000

# OpenTelemetry Configuration
OTEL_SERVICE_NAME=bdc-backend
OTEL_EXPORTER_JAEGER_ENDPOINT=http://jaeger:14268/api/traces
OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4318
OTEL_API_KEY=demo-key
OTEL_MEMORY_LIMIT=256M
OTEL_CPU_LIMIT=0.25

# Frontend Tracing
VITE_TRACING_ENABLED=true
VITE_TRACING_SAMPLE_RATE=0.1
VITE_OTEL_ENDPOINT=http://localhost:4318/v1/traces
VITE_JAEGER_ENDPOINT=http://localhost:14268/api/traces
VITE_OTEL_API_KEY=demo-key

# ===============================
# LOG ANALYTICS CONFIGURATION
# ===============================
# Enable/disable log analytics
LOG_ANALYTICS_ENABLED=true

# Analysis intervals and thresholds
LOG_ANALYSIS_INTERVAL=300
LOG_RETENTION_DAYS=30
MIN_PATTERN_FREQUENCY=5
ANOMALY_THRESHOLD=2.0

# Machine Learning Configuration
ML_ERROR_CLUSTERING_ENABLED=true
ML_TOPIC_MODELING_ENABLED=true
ML_ANOMALY_DETECTION_ENABLED=true

# Performance Thresholds for Analytics
ANALYTICS_RESPONSE_TIME_WARNING=2000
ANALYTICS_RESPONSE_TIME_CRITICAL=5000
ANALYTICS_ERROR_RATE_WARNING=0.1
ANALYTICS_ERROR_RATE_CRITICAL=0.2

# Security Analytics
SECURITY_ANALYTICS_ENABLED=true
BRUTE_FORCE_THRESHOLD=10
SUSPICIOUS_ACTIVITY_THRESHOLD=5

# Prometheus
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_PORT=3000
GRAFANA_ADMIN_PASSWORD=your-secure-grafana-password
GRAFANA_SECRET_KEY=your-grafana-secret-key-32-chars-minimum
GRAFANA_DOMAIN=grafana.yourdomain.com
GRAFANA_ROOT_URL=https://grafana.yourdomain.com

# AlertManager
ALERTMANAGER_PORT=9093

# ELK Stack
ELASTICSEARCH_PORT=9200
LOGSTASH_PORT=5044
KIBANA_PORT=5601

# Jaeger
JAEGER_UI_PORT=16686
JAEGER_OTLP_GRPC_PORT=4317
JAEGER_OTLP_HTTP_PORT=4318

# Node Exporter
NODE_EXPORTER_PORT=9100

# cAdvisor
CADVISOR_PORT=8080

# ===============================
# BACKUP CONFIGURATION
# ===============================
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket-name

# ===============================
# SCALING CONFIGURATION
# ===============================
# Resource limits
BACKEND_MEMORY_LIMIT=1G
BACKEND_CPU_LIMIT=1.0
FRONTEND_MEMORY_LIMIT=512M
FRONTEND_CPU_LIMIT=0.5

# Auto-scaling
MIN_REPLICAS=2
MAX_REPLICAS=10
CPU_TARGET_PERCENTAGE=70
MEMORY_TARGET_PERCENTAGE=80

# ===============================
# DEVELOPMENT OVERRIDES
# ===============================
# Uncomment these for development
# DEBUG=true
# FLASK_ENV=development
# LOG_LEVEL=DEBUG
# CORS_ORIGINS=http://localhost:5173,http://127.0.0.1:5173

# ===============================
# NOTES
# ===============================
# 1. Never commit this file with actual secrets
# 2. Use strong, unique passwords for all services
# 3. Update all default passwords before deployment
# 4. Enable SSL in production
# 5. Configure proper backup strategies
# 6. Set up monitoring alerts
# 7. Use environment-specific values